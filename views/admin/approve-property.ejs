<!-- views/admin/approve-property.ejs -->
<%- include('../partials/header') %>

<div class="container mt-5">
  <div class="row">
    <div class="col-md-8 offset-md-2">
      <h2 class="text-center mb-4">Review Properties</h2>

      <% if (properties.length === 0) { %>
      <p class="text-center">No properties to review.</p>
      <% } else { %>
      <ul class="list-group">
        <% properties.forEach(property => { %>
        <li class="list-group-item">
          <h4><%= property.title %></h4>
          <p><strong>Description:</strong> <%= property.description %></p>
          <p><strong>Price:</strong> $<%= property.price %></p>
          <p>
            <strong>Submitted by:</strong> <%= property.submittedBy.username %>
          </p>

          <!-- Add more property details as needed -->

          <div class="d-flex justify-content-between">
            <form
              action="/admin/approve-property/<%= property._id %>"
              method="POST"
            >
              <button type="submit" class="btn btn-success">Approve</button>
            </form>

            <form
              action="/admin/delete-property/<%= property._id %>"
              method="POST"
            >
              <button type="submit" class="btn btn-danger">Delete</button>
            </form>
          </div>
        </li>
        <% }) %>
      </ul>
      <% } %>
    </div>
  </div>
</div>

<%- include('../partials/footer') %>
